import praw
from sklearn.feature_extraction.text import CountVectorizer
import numpy as np
reddit = praw.Reddit("bot1")
subreddit = reddit.subreddit("nfl")
query = "4th down"
top_posts = subreddit.search(query, limit=100)
urls = []
corpus = []
for post in top_posts:
urls.append(post.permalink)
url = "https://www.reddit.com" + urls[0]
submission = reddit.submission(url=url)
submission.comments.replace_more(limit=0)
for top_level_comment in submission.comments:
corpus.append(top_level_comment.body)
urls
from nltk.sentiment import SentimentIntensityAnalyzer
overall = []
sia = SentimentIntensityAnalyzer()
for text in corpus:
score=sia.polarity_scores(text)
overall.append(score['compound'])
corpus[1]
