<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>DSAN 5000 - Text Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./data_cleaning1.html">Data Cleaning</a></li><li class="breadcrumb-item"><a href="./data_cleaning2.html">Text Data</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">DSAN 5000</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_gathering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Gathering</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Data Cleaning</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_cleaning1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4th Down Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data_cleaning2.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Text Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Data Exploration</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fourth_decisions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4th Down Decisions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./high_leverage_scenarios.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">High-Leverage Scenarios</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./effect_on_coach_success.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Effect on Coach Success</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Naïve Bayes</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./naive_bayes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Naïve Bayes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./feature_record.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Record Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./feature_text.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Text Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clustering.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Clustering</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dimensionality_reduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dimensionality Reduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./decision_trees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Decision Trees</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./arm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">ARM</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Conclusions</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Code</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sentiment-analysis" id="toc-sentiment-analysis" class="nav-link active" data-scroll-target="#sentiment-analysis">Sentiment Analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Text Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="sentiment-analysis" class="level1">
<h1>Sentiment Analysis</h1>
<p>The NFL subreddit is a useful place to extract text data produced by fans and their reaction to these essential decisions. Like most jobs, the goal of an NFL head coach is not only to win games, but to keep their bosses happy. The size and outspoken nature of NFL fan bases can be a factor in the job security of these coaches, as if a coach loses the fans, their job gets a lot harder. This is where sentiment analysis comes in, as getting an idea of how fans feel about 4th down decisions by certain coaches may give us insights into how they are making their decisions, and whether or not the fans have any influence on the decision making process.</p>
<p>This allows us to get posts from the NFL subreddit using a search query of “4th down” and access the comments of those posts.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>subreddit <span class="op">=</span> reddit.subreddit(<span class="st">"nfl"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>query <span class="op">=</span> <span class="st">"4th down"</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>top_posts <span class="op">=</span> subreddit.search(query, limit<span class="op">=</span><span class="dv">100</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>urls <span class="op">=</span> []</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>corpus <span class="op">=</span> []</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> post <span class="kw">in</span> top_posts:</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    urls.append(post.permalink)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">"https://www.reddit.com"</span> <span class="op">+</span> urls[<span class="dv">0</span>]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>submission <span class="op">=</span> reddit.submission(url<span class="op">=</span>url)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>submission.comments.replace_more(limit<span class="op">=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> top_level_comment <span class="kw">in</span> submission.comments:</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    corpus.append(top_level_comment.body)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>urls</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['/r/nfl/comments/1738fiy/highlight_tj_watt_calls_ballgame_with_a_4th_down/', '/r/nfl/comments/j7rtos/highlight_brady_gets_confused_thought_4th_down/', '/r/nfl/comments/rlv1ew/highlight_rams_get_away_with_pass_interference_on/', '/r/nfl/comments/yudyr5/highlight_okwara_sacks_fields_on_4th_down/', '/r/nfl/comments/yyar3n/highlight_packers_stuffed_on_4th_down_and_have/', '/r/nfl/comments/uorvep/highlight_josh_allen_27_yard_td_pass_on_4th_down/', '/r/nfl/comments/10ohcjv/highlight_devonta_smith_makes_an_incredible_one/', '/r/nfl/comments/qf4n13/highlight_matt_judon_with_a_hard_tackle_on_4th/', '/r/nfl/comments/10cagft/highlight_pedersons_gutsy_4th_down_call_plays_off/', '/r/nfl/comments/1003l0d/highlight_5_years_ago_today_deshone_kizers_4th/', '/r/nfl/comments/ss02sw/highlight_sb_lvi_lar_vs_cin_rams_defense_stops/', '/r/nfl/comments/7vb4c0/highlight_trey_burton_pass_to_nick_foles_for_the/', '/r/nfl/comments/qjwvle/highlight_justin_fields_changes_field_on_4th_down/', '/r/nfl/comments/106996p/highlight_jaguars_get_the_stop_on_4th_down_and/', '/r/nfl/comments/tomh57/highlight_julio_jones_drops_a_wide_open_td_catch/', '/r/nfl/comments/77jmol/highlight_romo_calls_4th_down_call_cbs/', '/r/nfl/comments/yyaoba/highlight_ugly_4th_down_attempt_by_gb/', '/r/nfl/comments/u74w01/highlight_the_chiefs_fail_to_find_the_endzone_on/', '/r/nfl/comments/y0uplq/highlight_carr_finds_adams_for_the_touch_on_4th/', '/r/nfl/comments/7zfdm2/doug_pederson_went_for_it_on_4th_down_29_times/', '/r/nfl/comments/a4oocn/highlight_mahomes_rolls_out_and_finds_tyreek_hill/', '/r/nfl/comments/r9pkdh/highlight_on_the_game_defining_4th_down_jared/', '/r/nfl/comments/qjw6bn/highlight_for_the_second_time_this_season_goff/', '/r/nfl/comments/j9jdsw/highlight_min_vs_sea_wilson_td_pass_to_metcalf_on/', '/r/nfl/comments/179ne86/highlight_chargers_stopped_on_4th_down_in_redzone/', '/r/nfl/comments/afd5br/highlight_unsportsmanlike_conduct_penalty_on_the/', '/r/nfl/comments/pcw9p5/highlight_browns_coleman_drops_the_ball_on_4th/', '/r/nfl/comments/110wpck/highlight_dallas_godert_with_a_top_class_catch_to/', '/r/nfl/comments/xntaaj/highlight_sun_god_for_thirty_yards_on_4th_down/', '/r/nfl/comments/d0avcg/highlight_the_chicago_crowd_booong_their_team/', '/r/nfl/comments/10cvybe/highlight_kaiir_elam_knocks_away_the_4th_down_pass/', '/r/nfl/comments/y0yc8h/highlight_carr_throws_to_nowhere_on_4th_down_and/', '/r/nfl/comments/z0df3r/highlight_nothing_cooking_for_the_eagles_on_4th/', '/r/nfl/comments/173cewt/highlight_reddick_with_the_huge_4th_down_sack/', '/r/nfl/comments/z7j2ql/highlight_colts_cant_convert_the_4th_down_and_the/', '/r/nfl/comments/16depvu/pff_aidan_hutchinson_vs_the_chiefs_7_pressures/', '/r/nfl/comments/xzpqtc/highlight_giants_stop_packers_on_4th_down/', '/r/nfl/comments/zulabw/highlight_minshew_finds_smith_on_4th_down_for_an/', '/r/nfl/comments/179ml98/highlight_cowboys_stuffed_on_4th_down/', '/r/nfl/comments/uouon1/highlight_4_minutes_of_justin_herbert_converting/', '/r/nfl/comments/10dzun3/highlight_cowboys_go_for_it_on_4th_down_and_dak/', '/r/nfl/comments/zumoyv/highlight_the_cowboys_defense_stifles_the_eagles/', '/r/nfl/comments/jpryj7/highlight_rodgers_to_davante_4th_down_conversion/', '/r/nfl/comments/y5ulhj/highlight_the_avatar_makes_another_victim_murray/', '/r/nfl/comments/enfqxi/highlight_expletives_during_the_delay_of_game_on/', '/r/nfl/comments/10iwne3/highlight_mcdermott_decides_not_to_kick_the_field/', '/r/nfl/comments/11dh2bg/highlight_belichicks_4th_down_gamble_deep_in_pats/', '/r/nfl/comments/16l7e16/highlight_herbert_finds_allen_for_the_4th_down/', '/r/nfl/comments/sb667m/highlight_eric_weddle_called_for_personal_foul/', '/r/nfl/comments/100uowl/highlight_darnell_savage_picksixes_cousins_on_4th/', '/r/nfl/comments/jt9nh4/espn_the_colts_have_already_gone_for_it_on_4th/', '/r/nfl/comments/wngyxs/kyler_murrays_playcalling_debut_in_4th_q_doesnt/', '/r/nfl/comments/k85e0s/highlight_the_giants_stop_the_seahawks_on_4th/', '/r/nfl/comments/v0z4tk/highlight_antonio_brown_makes_clutch_touchdown/', '/r/nfl/comments/qcg8ax/russell_per_stathead_sean_mcdermott_became_the/', '/r/nfl/comments/e4l1lz/highlight_jimmy_g_finds_deebo_on_4th_down_for_the/', '/r/nfl/comments/s0jr3u/pff_justin_herbert_on_4th_down_vs_the_raiders_66/', '/r/nfl/comments/e5b6eq/highlight_seahawks_fake_a_punt_on_4th_down_and/', '/r/nfl/comments/l008i6/jones_andy_reid_is_asked_by_adamteicher_when_did/', '/r/nfl/comments/176lygi/highlight_reid_sacks_wilson_on_4th_down/', '/r/nfl/comments/xzutf5/highlight_chargers_go_for_it_on_4th_down_and_fail/', '/r/nfl/comments/10onvq3/highlight_mahomes_hits_kelce_in_the_endzone_on/', '/r/nfl/comments/yo2tml/highlight_sauce_gardner_deflects_the_josh_allen/', '/r/nfl/comments/a6m8qm/highlight_jabrill_pepper_sacks_keenum_on_4th_down/', '/r/nfl/comments/yuk9wo/highlight_pressure_gets_to_dak_and_cowboys_fail/', '/r/nfl/comments/16l8v7c/highlight_josh_allen_to_gabe_davis_on_4th_down/', '/r/nfl/comments/reyeoa/highlight_denzel_ward_provides_the_4thdown_stop/', '/r/nfl/comments/y0ygi5/sharp_image_of_adams_and_renfrow_colliding_on_the/', '/r/nfl/comments/dhi807/49ers_defense_held_the_rams_to_013_on_3rd_and_4th/', '/r/nfl/comments/xzs5t5/highlight_matthew_judon_strip_sacks_goff_on_4th/', '/r/nfl/comments/y3hxva/highlight_bears_cannot_convert_on_4th_down/', '/r/nfl/comments/adbyxx/highlight_phi_vs_chi_foles_to_golden_tate_td_pass/', '/r/nfl/comments/xu3v8i/fox_sports_nfl_boos_coming_down_from_panthers/', '/r/nfl/comments/10j1qcz/burke_espn_4th_recommendation_chart_on_dallas_4th/', '/r/nfl/comments/2rjv59/adam_schefter_on_twitter_nfl_admitted_to_lions/', '/r/nfl/comments/jb8a5i/game_on_wisconsin_whose_quarterback_is_better/', '/r/nfl/comments/ja5vo1/highlight_marshon_lattimore_stops_mike_williams/', '/r/nfl/comments/yu7l4j/highlight_geno_with_a_hell_of_a_touchdown_to/', '/r/nfl/comments/11n5z1m/throwback_watch_the_longest_4thdown_conversions/', '/r/nfl/comments/178n83z/highlight_bengals_get_geno_down_with_a_sack_on/', '/r/nfl/comments/xo0iib/highlight_robinson_with_the_big_run_for_the_td_on/', '/r/nfl/comments/qa59oa/highlight_chargers_go_for_it_on_4th_down_while_at/', '/r/nfl/comments/wpl6t1/chargers_hc_brandon_staleys_yes_unless_system_for/', '/r/nfl/comments/3s51uy/aaron_rodgers_on_the_4thdown_play_i_got_scared_by/', '/r/nfl/comments/uaewt7/pff_best_on_3rd_and_4th_down_aaron_rodgers_925/', '/r/nfl/comments/j9b8kd/highlight_what_is_that_jaguars_attempt_the/', '/r/nfl/comments/k2nkno/oc_highlight_andy_dalton_is_100_in_his_career_on/', '/r/nfl/comments/yifduj/forder_tua_on_3rd_and_4th_down_is_on_a_completely/', '/r/nfl/comments/xzt9ct/highlight_lions_stuffed_on_4th_down_for_third_time/', '/r/nfl/comments/rzygwj/dov_kleiman_already_today_bears_failed_on_4th/', '/r/nfl/comments/q9q1q6/pff_justin_herbert_on_3rd4th_down_this_season_924/', '/r/nfl/comments/wn1cnz/highlight_desmond_ridder_avoids_the_pressure_and/', '/r/nfl/comments/uib1c4/los_angeles_rams_may_the_4th_down_stop_be_with_you/', '/r/nfl/comments/prmudl/ben_baldwins_4th_down_bot_the_final_4th_down_of/', '/r/nfl/comments/ixem9n/highlight_raiders_score_a_td_on_4th_down_take_the/', '/r/nfl/comments/a8xw1v/highlight_julian_edelman_converts_on_4th_down_and/', '/r/nfl/comments/s09r06/highlight_chargers_go_for_it_on_4th_down_at_their/', '/r/nfl/comments/dkr5be/highlight_ravens_qb_lamar_jackson_runs_it_in/', '/r/nfl/comments/10cw1jy/field_yates_whats_crazy_about_that_4th_down_delay/', '/r/nfl/comments/9mfssf/rams_convinced_sean_mcvay_to_go_for_it_on_4th_down/']</code></pre>
</div>
</div>
<p>The overall sentiment from this brief analysis is a positive one, but the search terms need to be more specific to get any useful information out of this process.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.sentiment <span class="im">import</span> SentimentIntensityAnalyzer</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>overall <span class="op">=</span> []</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>sia <span class="op">=</span> SentimentIntensityAnalyzer()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> text <span class="kw">in</span> corpus:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  score<span class="op">=</span>sia.polarity_scores(text)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(text)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(score)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  overall.append(score[<span class="st">'compound'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>TJ Watt- singlehandedly keeping Matt Canada employed
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
17-10 perfectly normal game.
{'neg': 0.0, 'neu': 0.417, 'pos': 0.583, 'compound': 0.6369}
True sickos game
{'neg': 0.0, 'neu': 0.417, 'pos': 0.583, 'compound': 0.4215}
When a play is needed most, TJ Watt will make that play.
{'neg': 0.0, 'neu': 0.652, 'pos': 0.348, 'compound': 0.5859}
Got flagged for unsportsmanlike lol
{'neg': 0.0, 'neu': 0.588, 'pos': 0.412, 'compound': 0.4215}
AFC is wild
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
He is a fucking wrecking ball
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Worth it for tj to get his second sack of the game
{'neg': 0.0, 'neu': 0.853, 'pos': 0.147, 'compound': 0.2263}
I love our defense
{'neg': 0.0, 'neu': 0.149, 'pos': 0.851, 'compound': 0.6908}
Yea but he wasnt double teamed so does it really count?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Best defensive player in the league
{'neg': 0.0, 'neu': 0.43, 'pos': 0.57, 'compound': 0.6486}
DPOY
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
PFF says he was the lowest rated player in the game, probably
{'neg': 0.191, 'neu': 0.809, 'pos': 0.0, 'compound': -0.3818}
This is the worst BEST game I have ever watched. What the fuck are both teams doing?

Insanity. As a 49ers fan who saw Watt eat my RT live..I am so happy we played them week 1 man.
{'neg': 0.209, 'neu': 0.519, 'pos': 0.271, 'compound': 0.5168}
Bias aside, I really don’t know if their is a more valuable player to their team than TJ Watt. It is staggering how many games they’ve won off his back. And if its not him its Highsmith ,Fitzpatrick or Heyward.
{'neg': 0.032, 'neu': 0.805, 'pos': 0.163, 'compound': 0.7713}
An AFC North game without at least 3 deaths is considered a dull affair.
{'neg': 0.197, 'neu': 0.803, 'pos': 0.0, 'compound': -0.4019}
HEY TOM….
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I’m so sad that we’re going to waste one of this generations best past rushers by not having a competent offense.
{'neg': 0.28, 'neu': 0.516, 'pos': 0.204, 'compound': -0.2993}
Keep writing that MVP resume
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I love playing the ravens with LJ lol
{'neg': 0.0, 'neu': 0.312, 'pos': 0.688, 'compound': 0.8316}
Best Defender in the NFL.
{'neg': 0.0, 'neu': 0.349, 'pos': 0.651, 'compound': 0.6808}
That ending was hilarious
{'neg': 0.0, 'neu': 0.526, 'pos': 0.474, 'compound': 0.4019}
Here I come to save the day
{'neg': 0.0, 'neu': 0.61, 'pos': 0.39, 'compound': 0.4939}
Man this guy is fucking fun to watch. Between this and the safety that changed momentum he really won the game.
{'neg': 0.0, 'neu': 0.634, 'pos': 0.366, 'compound': 0.8856}
But does he really disrupt the game?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I just want to juxtapose TJ Watt taking his helmet off to Sneed's in the chiefs game. Neither affected the outcome of the game. Both were on change of possessions. One was flagged and one wasn't.
{'neg': 0.0, 'neu': 0.923, 'pos': 0.077, 'compound': 0.1887}
what a monster
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
DPOY X2
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
As a Browns fan this game just confirmed two things

TJ Watt is the Pittsburgh steelers. We saw this last year

The ravens can never have a good wr core
{'neg': 0.078, 'neu': 0.847, 'pos': 0.075, 'compound': -0.0274}
Iirc no matter how sucked Steelers are they always own the Ravens and Browns every fucking single year
{'neg': 0.244, 'neu': 0.704, 'pos': 0.052, 'compound': -0.6249}
TJ Watt is by far our best player. It’s not even close. If we were a better team he would be in talks for DPOY this year. I fucking love this man. The only jersey I’ve ever bought
{'neg': 0.0, 'neu': 0.74, 'pos': 0.26, 'compound': 0.9117}
As a bengals fan, I hate the dude. But I’m not even gonna lie I think he’s better than Garrett and Donald.
{'neg': 0.099, 'neu': 0.671, 'pos': 0.231, 'compound': 0.4854}
TJ Watt&gt;Parsons
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
It ain't even a rivalry now, they just have our fucking number and Lamar and the shit for hands crew has no answer for it.

I don't see this team making a step forward until they get the pitt monkey off our back
{'neg': 0.049, 'neu': 0.826, 'pos': 0.125, 'compound': 0.5256}
DPOY x2
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Honest question here and as someone who didn’t watch the Texans often. Is TJ bette than JJ?
{'neg': 0.0, 'neu': 0.713, 'pos': 0.287, 'compound': 0.7213}
That’s my franchise QB.
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
TJ Watt, the 32nd best edge rusher in the league  according to some people on here. I love this man.
{'neg': 0.0, 'neu': 0.669, 'pos': 0.331, 'compound': 0.8555}
I don’t think I’ll live past 35, my heart can’t take this lmao BUT I LOVE IT
{'neg': 0.0, 'neu': 0.572, 'pos': 0.428, 'compound': 0.8936}
TJ Watt is a fucking machine this year. He’s basically doing what Bosa was doing last year. OC’s better plan around this man lol.
{'neg': 0.0, 'neu': 0.787, 'pos': 0.213, 'compound': 0.6908}
Can't wait to see his 60.5 rating from PFF.
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
He should be a candidate for MVP
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Tj is dpoy so far and it’s not close
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Steeler's defense is the best in the league. Only reason they've won games this season.
{'neg': 0.0, 'neu': 0.561, 'pos': 0.439, 'compound': 0.8555}
Watt like a hot knife through butter.
{'neg': 0.0, 'neu': 0.667, 'pos': 0.333, 'compound': 0.3612}
But ya know Micha Parsons already won DPOY after week 2 so no discussions of that.
{'neg': 0.174, 'neu': 0.595, 'pos': 0.231, 'compound': 0.3073}
The fact that TJ Watt is +350 DPOY and Micah is +190 is proof that it is just a popularity contest.
{'neg': 0.0, 'neu': 0.86, 'pos': 0.14, 'compound': 0.4767}
When he ripped his helmet off I actually got scared and shit my pants
{'neg': 0.371, 'neu': 0.629, 'pos': 0.0, 'compound': -0.7579}
How can you argue against this man being DPOTY?
{'neg': 0.231, 'neu': 0.769, 'pos': 0.0, 'compound': -0.34}
He isn’t on my favorite and I’d still die for this man.
{'neg': 0.231, 'neu': 0.592, 'pos': 0.178, 'compound': -0.2263}
Was he called for a penalty for taking off his helmet on the field of play? Asking for Panther’s fans.
{'neg': 0.134, 'neu': 0.759, 'pos': 0.107, 'compound': -0.1531}
Man NFL feels wild this year. A few terrible teams, a few great teams, and then like 20 teams that are just going to ruin each other's day.
{'neg': 0.194, 'neu': 0.62, 'pos': 0.186, 'compound': -0.0772}
This announcer calling it like it’s 2nd down in the first quarter.
{'neg': 0.0, 'neu': 0.815, 'pos': 0.185, 'compound': 0.3612}
He’s gonna get another D MVP thisnyear
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I'll never forgive us for not drafting him
{'neg': 0.206, 'neu': 0.794, 'pos': 0.0, 'compound': -0.2057}
Lamar moment. Homie is an inch tall in big moments. At least he run good for fantasy stats
{'neg': 0.0, 'neu': 0.854, 'pos': 0.146, 'compound': 0.4404}
And unlike Dwayne Rudd he waited until after the play was over, so that the penalty wouldn't give the offense another chance.
{'neg': 0.119, 'neu': 0.657, 'pos': 0.224, 'compound': 0.2207}
He's trying to set a record for fastest player to lock up DPOY in a season.
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Was Watt flagged for removing his helmet while on the field?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
PFF will say he didn’t make an impact this week
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
A win is a win but honestly am I jaded in that I don’t think we are that good. Defense sure but our offense is just not enough
{'neg': 0.15, 'neu': 0.408, 'pos': 0.442, 'compound': 0.8873}
Tj watt is something else, for real
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Most normal Steelers Ravens game
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Why did the refs throw a flag for TJ there?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
The steelers have pleasantly surprised me this season. Taking out the ravens and the browns has been great
{'neg': 0.0, 'neu': 0.622, 'pos': 0.378, 'compound': 0.8442}
As a Steelers fan, I still expect a record around.500, but they’ve already delivered two wins that crushed the souls of a division rival.  That is something to savor.
{'neg': 0.114, 'neu': 0.679, 'pos': 0.207, 'compound': 0.4588}
Did he get a penalty for removing his helmet on the field of play?
{'neg': 0.183, 'neu': 0.671, 'pos': 0.146, 'compound': -0.1531}
Every game these teams play is so fucking gritty. Truly the best rivalry in the nfl and it’s not close.
{'neg': 0.0, 'neu': 0.629, 'pos': 0.371, 'compound': 0.8762}
Game changer
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Bosa, Parsons or Watt.  Can't go wrong choosing either one as an edge rusher.
{'neg': 0.0, 'neu': 0.836, 'pos': 0.164, 'compound': 0.3724}
Fortunately for Harbaugh, i also watched the Miami-GT game this weekend so this was not worst coaching performance i saw in the last two days.
{'neg': 0.0, 'neu': 0.87, 'pos': 0.13, 'compound': 0.5096}
did he get a penalty for taking his helmet off?
{'neg': 0.273, 'neu': 0.727, 'pos': 0.0, 'compound': -0.4588}
u/savevideobot
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I’m so over Lamar at this point, he just can’t be trusted to put this team on his back. Also has yet to have a big against the Steelers, which imo is just sad at this point in this career
{'neg': 0.072, 'neu': 0.856, 'pos': 0.072, 'compound': 0.0}
what the hell was that awful attempt at a chip block lol
{'neg': 0.517, 'neu': 0.345, 'pos': 0.138, 'compound': -0.8271}
The standard is the standard
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Imagine watching JJ Watt years ago and some dude leans over and is like "His younger brother is gonna be better."

Insane.
{'neg': 0.1, 'neu': 0.705, 'pos': 0.194, 'compound': 0.368}
I am curious when the Ravens will decide when its time to part ways with their passing running back
{'neg': 0.0, 'neu': 0.881, 'pos': 0.119, 'compound': 0.3182}
probably the worst title I've seen in my life OP
{'neg': 0.313, 'neu': 0.687, 'pos': 0.0, 'compound': -0.6249}
Isn't taking off your helmet on the field a penalty?
{'neg': 0.273, 'neu': 0.727, 'pos': 0.0, 'compound': -0.4588}
How did he not get flagged for taking off his helmet?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Ravens have the worst luck ISTG
{'neg': 0.369, 'neu': 0.36, 'pos': 0.27, 'compound': -0.2732}
when are you allowed to take your helmet off without drawing a PF? I'm not a rule expert...
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Should be flag
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
He’s gotta be on the juice right??
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I saw the box so I checked the highlights, I was baffled the entire time how it gets to 17-10. Even with 2 minutes left in the game I was baffled
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
O man did he get a penalty for taking his helmet off. 😂
{'neg': 0.25, 'neu': 0.75, 'pos': 0.0, 'compound': -0.4588}
What an animal
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Sick as fuck
{'neg': 0.872, 'neu': 0.128, 'pos': 0.0, 'compound': -0.7783}
He's an animal !
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
Good game
{'neg': 0.0, 'neu': 0.256, 'pos': 0.744, 'compound': 0.4404}
I wish this guy was on the Falcons.
{'neg': 0.0, 'neu': 0.69, 'pos': 0.31, 'compound': 0.4019}
Did Jackson think it was 3rd down?
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
So... the helmet coming off for the celebration is an unsportsmanlike, right? That rule is still a thing, or am I crazy?
{'neg': 0.127, 'neu': 0.873, 'pos': 0.0, 'compound': -0.4137}
Took his helmet off. Shades of Dwayne Rudd.
{'neg': 0.0, 'neu': 1.0, 'pos': 0.0, 'compound': 0.0}
I want to learn the game
{'neg': 0.0, 'neu': 0.755, 'pos': 0.245, 'compound': 0.0772}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>corpus[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'17-10 perfectly normal game.'</code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>